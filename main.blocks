<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="m!OUDdpy.;ef7aN9[B#w">date</variable><variable id="h2-oJX|2:Z}jYQeJ9w,{">time</variable><variable id="xkI1xtG1%k+HhuA%6qq(">dateTime</variable><variable id=":M8$!%eSMIZoHze.n^{@">channel</variable><variable id="|@grS}@%5XyZVo%-h]5I">Ntotal</variable><variable id="F5Te{2VDRXO@k]2,@=!/">sample</variable><variable id="j]yft`M(lCBM1!d4DJ~_">sampleSize</variable><variable id="CwN8qonL*|xy;Xk`:1GN">sample2</variable><variable id="HrrI-0WhZ[:G7wdybry:">sample3</variable><variable id="faf/#y|/,c-jy5Joq8)Y">Nave</variable><variable id="4ekH%/v:M7jI~I~%kW]5">Vscaled</variable><variable id="H:rs.#lsK+yV/vu}pPKj">Vreading</variable><variable id="@rv[Kukl,DzZJ;+xZsKK">stringIn</variable><variable id="j+~B6Ge*AI$)GNP:||oP">month</variable><variable id="Zmb*1WwbtIa)cB,b]Cv$">year</variable><variable id=".}RqqT}`:#du~*R4Qi1v">count</variable><variable id="DM51jStvV3tr1/NlKNuS">index</variable><variable id="KQXh]Y,mB#^#EpzxW)#;">dateTimeReadings</variable><variable id="AOem^0k.rgPsw@Zi.}~W">Vreadings</variable><variable id="Vc;s*JLs]j$|6gn^QA~-">hour</variable><variable id="iX,^Tm)w#%9aXU?JEWM=">minute</variable><variable id="w/D63-RpT.$XS|e8^s`3">command</variable><variable id="49+!CO@LN8fDMW9^BFm=">oneMinute</variable><variable id="*T{s%r#J(lWoYV;{K[%E">Vbat</variable><variable id="*~v:3s*AE^?/P%z,%Mou">list</variable><variable id="OW!v@A01]BH`-@|X]3UP">ADCreadings</variable></variables><block type="logic_boolean" id="ki;Ja@qb3.$6YV)n;L(O" disabled="true" x="1281" y="-169"><field name="BOOL">TRUE</field></block><block type="pxt-on-start" id="_^AF.Lsnex}Nd.85(Irh" x="0" y="0"><statement name="HANDLER"><block type="serial_redirect_to_usb" id="Zwx^N^0a(C2[C5h4`{}c"><next><block type="serialSetRxBufferSize" id="~f1OI6/S}v$pSE`hU_Q?"><value name="size"><shadow type="math_number" id="1hBENs1%_/1Q8a5,?G=z"><field name="NUM">32</field></shadow></value><next><block type="serialSetTxBufferSize" id="mux~!yq7-5,gYxPTQ|`K"><value name="size"><shadow type="math_number" id="P975q2g!swpfXT;XC8*~"><field name="NUM">64</field></shadow></value><next><block type="variables_set" id="/j%hCq.3AH~AF[uf$[V3"><field name="VAR" id="@rv[Kukl,DzZJ;+xZsKK">stringIn</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text" id="?6jn}%q4t+@n~#%0r+4e"><field name="TEXT"></field></block></value><next><block type="variables_set" id="a[L7L(`fqZ~$[$(IkVTP"><field name="VAR" id="j]yft`M(lCBM1!d4DJ~_">sampleSize</field><value name="VALUE"><shadow type="math_number" id="9P]u;v}0hY86q:BxF_Vv"><field name="NUM">10</field></shadow></value><next><block type="variables_set" id="zW+EKt~iF0,n80j8$NTZ"><field name="VAR" id="49+!CO@LN8fDMW9^BFm=">oneMinute</field><value name="VALUE"><shadow type="math_number" id="[[Or@=gXF/pbj0BU:yow"><field name="NUM">60000</field></shadow></value><next><block type="variables_set" id="O_V?h_U.02[68)6tMK8_"><field name="VAR" id="AOem^0k.rgPsw@Zi.}~W">Vreadings</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_create_with" id="A#Fb1XFLDnT~crVmFw;{"><mutation items="0" horizontalafter="3"></mutation></block></value><next><block type="variables_set" id="k^gGBx[-7Zz.{#ASVvzn"><field name="VAR" id="KQXh]Y,mB#^#EpzxW)#;">dateTimeReadings</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_create_with" id=":;:LJg+iAU#8`Jm5k|MH"><mutation items="0" horizontalafter="3"></mutation></block></value><next><block type="variables_set" id="+lqD~xml!sS4[?RSY;Cp"><field name="VAR" id=".}RqqT}`:#du~*R4Qi1v">count</field><value name="VALUE"><shadow type="math_number" id="LJq=!aJPtiW~ZQ,~f~-I"><field name="NUM">0</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="device_button_event" id="7aTO_IFd^J4je8b%(-y!" x="567" y="0"><field name="NAME">Button.A</field><comment pinned="false" h="80" w="160">Upload</comment><statement name="HANDLER"><block type="function_call" id="^g[*Gd@d5LgpuF.O]7Lf"><mutation name="upload" functionid="l25U:6+JSN2u6Me8*(C2"></mutation></block></statement></block><block type="device_button_event" id="v7i*r`3U|[KKE76xjBRC" x="883" y="0"><field name="NAME">Button.B</field><comment pinned="false" h="80" w="160">Show ADC readings</comment><statement name="HANDLER"><block type="function_call" id="T7%Hd)BK~Jff3LNC?@z?"><mutation name="makeReading" functionid="Jyw.r{)j@`j3@4j[Q%v^"></mutation><next><block type="device_print_message" id="Y+S%Lo!}VB%:in#k91xv"><value name="text"><block type="variables_get" id="l7x!|uy,JeuS,,V|Bk:+"><field name="VAR" id="H:rs.#lsK+yV/vu}pPKj">Vreading</field></block></value></block></next></block></statement></block><block type="every_interval" id="e(Ok#ZWHY9H~-6=vKXT2" x="1252" y="0"><value name="interval"><shadow type="longTimePicker"></shadow><block type="variables_get" id="mVPr!:O%C7]xMzyP{H`I"><field name="VAR" id="49+!CO@LN8fDMW9^BFm=">oneMinute</field></block></value><statement name="HANDLER"><block type="controls_if" id="l?[XIa~UuJ+/0z|#d33b"><comment pinned="false" h="80" w="160">Take readings once per hour</comment><value name="IF0"><shadow type="logic_boolean" id="|^YJ@|^-$kOtwf~h`fK`"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="I*:xxslK%?L8QY351/zh"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="DS3231_GET_MINUTE" id="Te}((ka;AjON[;2*bSh`"></block></value><value name="B"><shadow type="math_number" id="Ywpj2Y-kpup@E%DG93{I"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="function_call" id="29/Fm9mlCU0kjbd8DVaW"><mutation name="readTime" functionid="C=}ESABqm0}iRNX:!4HD"></mutation><next><block type="array_push" id="@r46cour#=bh.a;Um6]L"><value name="list"><block type="variables_get" id="!pIv90bywXj3e3)luo2*"><field name="VAR" id="KQXh]Y,mB#^#EpzxW)#;">dateTimeReadings</field></block></value><value name="value"><block type="variables_get" id="t,ddR(}#g:$,oNlOS8S_"><field name="VAR" id="xkI1xtG1%k+HhuA%6qq(">dateTime</field></block></value><next><block type="function_call" id="fnSN|N$C{9ce=RNbo~-R"><mutation name="makeReading" functionid="Jyw.r{)j@`j3@4j[Q%v^"></mutation><next><block type="array_push" id="GvR^2tk0[^+bKPLjo7Cg"><value name="list"><block type="variables_get" id="0AnQcnABZ#Hkdhcf4{(x"><field name="VAR" id="AOem^0k.rgPsw@Zi.}~W">Vreadings</field></block></value><value name="value"><block type="variable_to_text" id="1$-mcyo_b,}$!K^3I!Zt"><value name="value"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="_]{l%T025jr$[t1;k,ru"><field name="VAR" id="H:rs.#lsK+yV/vu}pPKj">Vreading</field></block></value></block></value><next><block type="variables_change" id="2t|a#p[-}!-niTNfR-ar"><field name="VAR" id=".}RqqT}`:#du~*R4Qi1v">count</field><value name="VALUE"><shadow type="math_number" id="T5/TP}+aBUw~+$Y!RK$T"><field name="NUM">1</field></shadow></value></block></next></block></next></block></next></block></next></block></statement><next><block type="device_show_leds" id="KHNecQ(=+ZH$p):lisP?"><field name="LEDS">`
        . . . . # 
        . . . . . 
        . . . . . 
        . . . . . 
        . . . . .
        `</field><next><block type="device_pause" id=")529L[De!6kwog7hGlL3"><value name="pause"><shadow type="timePicker" id="3/v4lr0,,fWEd5YZpI3d"><field name="ms">50</field></shadow></value><next><block type="device_clear_display" id="i,E#Mj:FaZmu5e`LI9jb"></block></next></block></next></block></next></block></statement></block><block type="serial_on_data_received" id="|Q|%![Y),keM}KUi=TD:" x="2061" y="0"><value name="delimiters"><shadow type="serial_delimiter_conv" id="$.}7)%PM$c)|{):|a*wT"><field name="del">Delimiters.NewLine</field></shadow></value><statement name="HANDLER"><block type="variables_set" id="8/i|f?LMaA{h8WQuP]P)"><field name="VAR" id="@rv[Kukl,DzZJ;+xZsKK">stringIn</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="serial_read_line" id="p*`?q=@xn0xkJm/}?uxo"></block></value><next><block type="variables_set" id="AB78/JNu=rL@2J$Wbr|%"><field name="VAR" id="w/D63-RpT.$XS|e8^s`3">command</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="string_substr" id=":fVX#U[1}}L~`%-xY}4["><value name="this"><shadow type="text"><field name="TEXT"></field></shadow><block type="variables_get" id="-L;2-QjA-)r!{F@i~f@3"><field name="VAR" id="@rv[Kukl,DzZJ;+xZsKK">stringIn</field></block></value><value name="start"><shadow type="math_number" id="P#UG7_cG;be(Z@6S1,ow"><field name="NUM">0</field></shadow></value><value name="length"><shadow type="math_number" id="=q1|@=)8W+7FNZPgW!3p"><field name="NUM">2</field></shadow></value></block></value><next><block type="controls_if" id="@C6U4o*bdwvtVvlKnc9m"><mutation elseif="4"></mutation><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="BJ#EMKO_8AvCVA8UWM#-"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="string_compare" id=";n4RJdDgS0CCOiG+DHgS"><value name="this"><shadow type="text"><field name="TEXT"></field></shadow><block type="variables_get" id="MeD)rQ$`3rQdCRT!NRVS"><field name="VAR" id="w/D63-RpT.$XS|e8^s`3">command</field></block></value><value name="that"><shadow type="text" id="rb4dIA@tHxJ%I?|DJhbh"><field name="TEXT">st</field></shadow></value></block></value><value name="B"><shadow type="math_number" id="=I15!E6@5A1?jkFpeDE!"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="function_call" id="t6y]=PGz$AWmkPR=rt/p"><mutation name="setTime" functionid="_waVfNVtHXR{96-+wEfj"></mutation><next><block type="serial_writeline" id="k9jI+.rfDG9HQZ=K)I^{"><value name="text"><shadow type="text" id="$8Xihj$ddCFB8z9^5VZ."><field name="TEXT">#time has been set</field></shadow></value></block></next></block></statement><value name="IF1"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="cCb.J%fqp:p0ctP(RP,x"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="string_compare" id="X8Tm2Oy74+,]a$skWR3|"><value name="this"><shadow type="text"><field name="TEXT"></field></shadow><block type="variables_get" id="0/EA%iU,/;o5J^3t`z5)"><field name="VAR" id="w/D63-RpT.$XS|e8^s`3">command</field></block></value><value name="that"><shadow type="text" id="Vu?YZ[N?K*%M%dm6)RQ1"><field name="TEXT">sd</field></shadow></value></block></value><value name="B"><shadow type="math_number" id="0::A,E_ozjE%(VP!xOf-"><field name="NUM">0</field></shadow></value></block></value><statement name="DO1"><block type="function_call" id="$~D9]Gq6x,/~0FWvWx6O"><mutation name="setDate" functionid="z!it_S6lE_.e:(-3x|6["></mutation><next><block type="serial_writeline" id="9.ANHRK]db[nX3N2@}/t"><value name="text"><shadow type="text" id="uv9msyGv3@iv~YG{-[Ga"><field name="TEXT">#date has been set</field></shadow></value></block></next></block></statement><value name="IF2"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="F}d@)}ErnQarixzbXUMH"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="string_compare" id="rcSA.i;!Nb};NyjajtdU"><value name="this"><shadow type="text"><field name="TEXT"></field></shadow><block type="variables_get" id="67AIns(:$Ct;up;@bhUc"><field name="VAR" id="w/D63-RpT.$XS|e8^s`3">command</field></block></value><value name="that"><shadow type="text" id="j{i;_hnot*Lt9b4h0RfC"><field name="TEXT">rt</field></shadow></value></block></value><value name="B"><shadow type="math_number" id="H[kew`sy%$}OpwoYW~k,"><field name="NUM">0</field></shadow></value></block></value><statement name="DO2"><block type="function_call" id="vw6yFwtjto_Vs-[iZk8["><mutation name="readTime" functionid="C=}ESABqm0}iRNX:!4HD"></mutation><next><block type="serial_writeline" id=":Yp.[+%hg7}jouL#]`vs"><value name="text"><block type="text_join" id="cWv@+RPWByIphi+zInM:"><mutation items="2"></mutation><value name="ADD0"><shadow type="text" id="JRAH?R+jB,_Ja`DZ)]`t"><field name="TEXT">#date/time = </field></shadow></value><value name="ADD1"><shadow type="text"><field name="TEXT"></field></shadow><block type="variables_get" id="0s;cO*LZ5iRB.`jat/f+"><field name="VAR" id="xkI1xtG1%k+HhuA%6qq(">dateTime</field></block></value></block></value></block></next></block></statement><value name="IF3"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="^kA?lGx%(i2QL_gp}=$/"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="string_compare" id=")gFQkMAE3qWo6(Fdp/q{"><value name="this"><shadow type="text"><field name="TEXT"></field></shadow><block type="variables_get" id="CS@[6yW*auI5t4RzS0kx"><field name="VAR" id="w/D63-RpT.$XS|e8^s`3">command</field></block></value><value name="that"><shadow type="text" id="f4JyC4v,Sk462r^yFhs2"><field name="TEXT">up</field></shadow></value></block></value><value name="B"><shadow type="math_number" id=";lF,g]I(SJ|+j5P%;k77"><field name="NUM">0</field></shadow></value></block></value><statement name="DO3"><block type="function_call" id="9*@-~8l7Z@]GGVf1rPEK"><mutation name="upload" functionid="l25U:6+JSN2u6Me8*(C2"></mutation></block></statement><value name="IF4"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="5*#Q?$$1WOGWCV0ZiFh="><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="string_compare" id="jI#%K8~o}6X-1)OdrH]4"><value name="this"><shadow type="text"><field name="TEXT"></field></shadow><block type="variables_get" id="4mklJGOTLmW-qGEGqiL!"><field name="VAR" id="w/D63-RpT.$XS|e8^s`3">command</field></block></value><value name="that"><shadow type="text" id="R~r%=#3yKC12wDf34WPw"><field name="TEXT">xx</field></shadow></value></block></value><value name="B"><shadow type="math_number" id="Gl{iBUuz-.3N/ZmE:O.5"><field name="NUM">0</field></shadow></value></block></value><statement name="DO4"><block type="serial_writeline" id="6Bc(E(,1:m~pVss}c{mQ"><value name="text"><shadow type="text" id="Tv9#2Un0}[`ReP1j|eGF"><field name="TEXT">#start xx</field></shadow></value><next><block type="variables_set" id="n|]*SR!]inNt(fewV_E1"><field name="VAR" id="AOem^0k.rgPsw@Zi.}~W">Vreadings</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_create_with" id="bb,p+KtwuU#vskR|@8%t"><mutation items="0" horizontalafter="3"></mutation></block></value><next><block type="variables_set" id="?5r.U{#1|)1p6;Nd.b^}"><field name="VAR" id="KQXh]Y,mB#^#EpzxW)#;">dateTimeReadings</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_create_with" id="I%}|XAph^PZ.C20j`A`$"><mutation items="0" horizontalafter="3"></mutation></block></value><next><block type="variables_set" id="ux7%)ffm8;zdFUkN+{_%"><field name="VAR" id=".}RqqT}`:#du~*R4Qi1v">count</field><value name="VALUE"><shadow type="math_number" id="EDuQsSKOg^auFYghD^;9"><field name="NUM">0</field></shadow></value><next><block type="serial_writeline" id="+2j3Cl]`K^kOlT!}?={a"><value name="text"><shadow type="text" id="})l[$85|78Tc(kuzhw12"><field name="TEXT">#All readings deleted</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></statement></block><block type="function_definition" id="h4wAeNc=n06(f0uSdsvV" x="2882" y="0"><mutation name="upload" functionid="l25U:6+JSN2u6Me8*(C2"></mutation><field name="function_name">upload</field><comment pinned="false" h="80" w="160">Upload all readings</comment><statement name="STACK"><block type="serial_writeline" id="o6IBQf:45;oG_+teX=A/"><comment pinned="false" h="80" w="160">Debug</comment><value name="text"><block type="text_join" id="l0DX[M%8bJ?v?ujit(f,"><mutation items="2"></mutation><value name="ADD0"><shadow type="text" id="^N0ifcv7yD=}{Ly|`uK^"><field name="TEXT">#count = </field></shadow></value><value name="ADD1"><shadow type="text"><field name="TEXT"></field></shadow><block type="variables_get" id="KI(7Bu^Z!%5F-|71T4(H"><field name="VAR" id=".}RqqT}`:#du~*R4Qi1v">count</field></block></value></block></value><next><block type="controls_if" id="hDu32qT9ZFH1O}e663wm"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="AilJX1;}9?SHW8v{;{?P"><field name="OP">GT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="vFr*}`(iU{0{!p~y,|;A"><field name="VAR" id=".}RqqT}`:#du~*R4Qi1v">count</field></block></value><value name="B"><shadow type="math_number" id="LS~6p`*OBuRU{X7MJbKa"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="device_pause" id="aD]sXgbi)JTHCM$ZL}2@"><value name="pause"><shadow type="timePicker" id="o=O^bw#sn-Vo_ROXaa61"><field name="ms">100</field></shadow></value><next><block type="pxt_controls_for" id="}N,*7vZ{P@LWR5u+#T#^"><value name="VAR"><shadow type="variables_get_reporter" id="`Y$Gb]e)z]qD_Bv$IkFY"><field name="VAR" id="DM51jStvV3tr1/NlKNuS">index</field></shadow></value><value name="TO"><shadow type="math_whole_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="f~;q!dz82%`Oe``3P*QR"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="}+j16Y$=8X[EsAac,Sn0"><field name="VAR" id=".}RqqT}`:#du~*R4Qi1v">count</field></block></value><value name="B"><shadow type="math_number" id="OEfwX3?xVOftWBzJqBX("><field name="NUM">1</field></shadow></value></block></value><statement name="DO"><block type="serial_writestring" id="6Ptm#4n_dXUNBfu,a/ss"><value name="text"><shadow type="text" id="$AN7Jl$L4Qb^-Nh6ue0B"><field name="TEXT"></field></shadow><block type="text_join" id="U.fq{FW:4b]/=xNTF,x$"><mutation items="2"></mutation><value name="ADD0"><shadow type="text"><field name="TEXT"></field></shadow><block type="lists_index_get" id=".I^y@Q6aJX0Jfz#8I39?"><value name="LIST"><block type="variables_get" id="vA;}gI/M%*%gDMG|p:c1"><field name="VAR" id="KQXh]Y,mB#^#EpzxW)#;">dateTimeReadings</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="-|nM)^4[N)z9Y:9F@WLh"><field name="VAR" id="DM51jStvV3tr1/NlKNuS">index</field></block></value></block></value><value name="ADD1"><shadow type="text" id="fd]^g*D.@SX~rpWXKGW9"><field name="TEXT">,</field></shadow></value></block></value><next><block type="device_pause" id="^{waH27?wXgm3Hq(/(F."><value name="pause"><shadow type="timePicker" id="+h=PT[|Hd(|ezP+kL$E5"><field name="ms">200</field></shadow></value><next><block type="serial_writeline" id="UtEZ@6QNO/+eGT7]O}TH"><value name="text"><shadow type="text"><field name="TEXT"></field></shadow><block type="lists_index_get" id="1{/S],496eFk@j*l{4tE"><value name="LIST"><block type="variables_get" id="uXiZ3(^O=jE64,H6GyxU"><field name="VAR" id="AOem^0k.rgPsw@Zi.}~W">Vreadings</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="YZ(yvop^OrYiAhsGp:(|"><field name="VAR" id="DM51jStvV3tr1/NlKNuS">index</field></block></value></block></value><next><block type="device_pause" id="SkKAfB^JCh+J4Fwsg1!Y"><value name="pause"><shadow type="timePicker" id="{|CI?ypQxE$b+g0-uG*y"><field name="ms">200</field></shadow></value></block></next></block></next></block></next></block></statement></block></next></block></statement></block></next></block></statement></block><block type="function_definition" id="}b0LI_fMjJ]~i!EFw7`O" x="0" y="1165"><mutation name="leadingZero" functionid="NiQY?dR,/Q:jOj?LpHMS"><arg name="num" id="a7q9a6tp7ahy9gd5ihv6" type="number"></arg></mutation><field name="function_name">leadingZero</field><value name="a7q9a6tp7ahy9gd5ihv6"><shadow type="argument_reporter_number" id="TfJxpatoLMbAnV*n:isU"><field name="VALUE">num</field></shadow></value><statement name="STACK"><block type="controls_if" id="HZmTg]0wo@OUGFknJsQ!"><mutation else="1"></mutation><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="[nsVWujT){O}9.,$kJ{m"><field name="OP">LT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="$k|ft]Mgg9=s{y)j82T3"><field name="VALUE">num</field></block></value><value name="B"><shadow type="math_number" id="ey;tML7w1_SYeT%4byjz"><field name="NUM">10</field></shadow></value></block></value><statement name="DO0"><block type="function_return" id="JSP(gNN7d1y+$5`kb{=U"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text_join" id="r(cyHi[g*AS,eg4@o5KZ"><mutation items="2"></mutation><value name="ADD0"><shadow type="text" id="y`MJ~KL8Qw!evS;:]:xw"><field name="TEXT">0</field></shadow></value><value name="ADD1"><shadow type="text"><field name="TEXT"></field></shadow><block type="argument_reporter_number" id="*8kOfzNz4ZY(3u@)^yYL"><field name="VALUE">num</field></block></value></block></value></block></statement><statement name="ELSE"><block type="function_return" id="LdAhkzhN3it2t;9e(q$n"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variable_to_text" id="!^}t`3gi^AH1sCIQ/@Bl"><value name="value"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="#dU=ro6pT.R=k/0(rkLe"><field name="VALUE">num</field></block></value></block></value></block></statement></block></statement></block><block type="function_definition" id="ewO@nEQLRP1vA;e~9yy|" x="543" y="1165"><mutation name="makeReading" functionid="Jyw.r{)j@`j3@4j[Q%v^"></mutation><field name="function_name">makeReading</field><statement name="STACK"><block type="pxt_controls_for" id="Rv~WGz[M`=aDt.rC3AZa"><value name="VAR"><shadow type="variables_get_reporter" id="K@2pKqW2?IDS?fH,?)Ss"><field name="VAR" id=":M8$!%eSMIZoHze.n^{@">channel</field></shadow></value><value name="TO"><shadow type="math_whole_number" id="(e:g2;0aCy~DtJmQfkY["><field name="NUM">3</field></shadow></value><statement name="DO"><block type="lists_index_set" id="?h%4lVU+)7sx@w(v2?B~"><value name="LIST"><block type="variables_get" id="{R)5[XDx4@*HHYwV9AFh"><field name="VAR" id="OW!v@A01]BH`-@|X]3UP">ADCreadings</field></block></value><value name="INDEX"><shadow type="math_number" id="OCjCbQ+9TFVFQt4Q%PpN"><field name="NUM">0</field></shadow><block type="variables_get" id="(4wu6rH%B)fRG(jP!SOv"><field name="VAR" id=":M8$!%eSMIZoHze.n^{@">channel</field></block></value><value name="VALUE"><block type="ADS1115_READ_ADC" id="X1OPnO,yBh_o?nP*RMSE"><value name="channel"><shadow type="math_number" id="YXsu61M_CNYoZm*v^k`x"><field name="NUM">0</field></shadow><block type="variables_get" id="OV~sWiocW6TxrkG~o;jZ"><field name="VAR" id=":M8$!%eSMIZoHze.n^{@">channel</field></block></value></block></value></block></statement></block></statement></block><block type="function_definition" id="ytb)r1MX1(/n[MShC$9v" x="1638" y="1165"><mutation name="readTime" functionid="C=}ESABqm0}iRNX:!4HD"></mutation><field name="function_name">readTime</field><comment pinned="false" h="80" w="160">This code reads the 3 ADC channels in sequence every hour.
The scaling assumes external resistors of 270k from input to microbit pins
and 330k from Pn to ground. So full scale is 6.0V. Other ratios require code change.
The ADC voltage reference is VDD (nominally 3.3V).

Measurements are stored as a date/time string followed by the 3 voltages, all comma separated.
Button usage:
A uploads stored readings to serial/USB
B displays voltage readings
Serial port commands
st+hhmm - sets time, e.g. st1306 for 6 minutes past 1 pm
sd+ddmmyyyy - sets date e.g. sd01122022 for 1 Dec 2022
rt - reads date time string to USB
up - uploads stored readings to USB
xx - deletes stored readings</comment><statement name="STACK"><block type="variables_set" id="`fYJuLfPIrypFBfV:KD`"><field name="VAR" id="m!OUDdpy.;ef7aN9[B#w">date</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text_join" id=",m/%;c7A1,3u.*F|c83^" inline="false"><mutation items="5"></mutation><value name="ADD0"><shadow type="text"><field name="TEXT"></field></shadow><block type="function_call_output" id="h+*{vQ`^t{^lcqJbi%Lu"><mutation name="leadingZero" functionid="NiQY?dR,/Q:jOj?LpHMS"><arg name="num" id="a7q9a6tp7ahy9gd5ihv6" type="number"></arg></mutation><value name="a7q9a6tp7ahy9gd5ihv6"><shadow type="math_number" id="%8Wy*,0y`0nxI6+$0j.{"><field name="NUM">1</field></shadow><block type="DS3231_GET_DATE" id="e2k~U~F{6O%jbt4.9/lL"></block></value></block></value><value name="ADD1"><shadow type="text" id="muusR9T|.{o0$z2P]@_2"><field name="TEXT">/</field></shadow></value><value name="ADD2"><shadow type="text"><field name="TEXT"></field></shadow><block type="function_call_output" id="=x=_*/8s6G[d5D$(6ac@"><mutation name="leadingZero" functionid="NiQY?dR,/Q:jOj?LpHMS"><arg name="num" id="a7q9a6tp7ahy9gd5ihv6" type="number"></arg></mutation><value name="a7q9a6tp7ahy9gd5ihv6"><shadow type="math_number" id="$r,f(SSqJECD`YJ?J`=b"><field name="NUM">1</field></shadow><block type="DS3231_GET_MONTH" id=",nixR;I}-jHb5`cRNPYH"></block></value></block></value><value name="ADD3"><shadow type="text" id="+Nm/w9?s.6U]3%;IaA}}"><field name="TEXT">/</field></shadow></value><value name="ADD4"><shadow type="text"><field name="TEXT"></field></shadow><block type="DS3231_GET_YEAR" id="x%|*8Q76k91_0YYyOiYi"></block></value></block></value><next><block type="variables_set" id="U=/{!j}wk9w[Vuy17uBc"><field name="VAR" id="h2-oJX|2:Z}jYQeJ9w,{">time</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text_join" id="8U)|[m:K1!)7=MbPO4.!"><mutation items="3"></mutation><value name="ADD0"><shadow type="text"><field name="TEXT"></field></shadow><block type="function_call_output" id="+#kXq7u!FGyEUeAYZ^o="><mutation name="leadingZero" functionid="NiQY?dR,/Q:jOj?LpHMS"><arg name="num" id="a7q9a6tp7ahy9gd5ihv6" type="number"></arg></mutation><value name="a7q9a6tp7ahy9gd5ihv6"><shadow type="math_number" id="ZzaU@IQr`V,E96_V#_iY"><field name="NUM">1</field></shadow><block type="DS3231_GET_HOUR" id="Q.5AaYNZLlqGBN3M0I.m"></block></value></block></value><value name="ADD1"><shadow type="text" id="$Oc8uiy,c|n@qFdvd^0F"><field name="TEXT">:</field></shadow></value><value name="ADD2"><shadow type="text"><field name="TEXT"></field></shadow><block type="function_call_output" id="|PykfndOkiwQK-BqD%cH"><mutation name="leadingZero" functionid="NiQY?dR,/Q:jOj?LpHMS"><arg name="num" id="a7q9a6tp7ahy9gd5ihv6" type="number"></arg></mutation><value name="a7q9a6tp7ahy9gd5ihv6"><shadow type="math_number" id="@Qx2FShJMm91LCzC:*GM"><field name="NUM">1</field></shadow><block type="DS3231_GET_MINUTE" id="O(Pj^b(TN}-ZaG;!acy^"></block></value></block></value></block></value><next><block type="variables_set" id="}/2X{62#|_*=)V=O*LTN"><field name="VAR" id="xkI1xtG1%k+HhuA%6qq(">dateTime</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text_join" id="IwP(ZEmp*Egv#!8*Z(;?"><mutation items="3"></mutation><value name="ADD0"><shadow type="text"><field name="TEXT"></field></shadow><block type="variables_get" id="z$Jhz^1aSYsuAc}ucHg|"><field name="VAR" id="m!OUDdpy.;ef7aN9[B#w">date</field></block></value><value name="ADD1"><shadow type="text" id="G[JY%-l.QtoP|5d-bC6@"><field name="TEXT"> </field></shadow></value><value name="ADD2"><shadow type="text"><field name="TEXT"></field></shadow><block type="variables_get" id="3|;osa}-()fi==1iTdLn"><field name="VAR" id="h2-oJX|2:Z}jYQeJ9w,{">time</field></block></value></block></value></block></next></block></next></block></statement></block><block type="function_definition" id="`]?Y![z8jUflvLoCNCt2" x="2631" y="1165"><mutation name="setDate" functionid="z!it_S6lE_.e:(-3x|6["></mutation><field name="function_name">setDate</field><statement name="STACK"><block type="variables_set" id="AR*G!4*.?^V~YyRF_mcP"><field name="VAR" id="m!OUDdpy.;ef7aN9[B#w">date</field><comment pinned="false" h="80" w="160">the first 2 characters after command</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="string_substr" id="4u0*8/u6ziZZ^6z!u$N8"><value name="this"><shadow type="text"><field name="TEXT"></field></shadow><block type="variables_get" id="e?y@h=j5LpQg:1ML#b}I"><field name="VAR" id="@rv[Kukl,DzZJ;+xZsKK">stringIn</field></block></value><value name="start"><shadow type="math_number" id="I!5a{Mb!,1=7G@,TCx7L"><field name="NUM">2</field></shadow></value><value name="length"><shadow type="math_number" id="Sna;J,G1M5vPZt_^Qp^x"><field name="NUM">2</field></shadow></value></block></value><next><block type="variables_set" id="+Hjc[wHdBB@a7:l1{=l)"><field name="VAR" id="j+~B6Ge*AI$)GNP:||oP">month</field><comment pinned="false" h="80" w="160">the next 2 characters</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="string_substr" id="^6^t:ot,gl#Az@kfEMVw"><value name="this"><shadow type="text"><field name="TEXT"></field></shadow><block type="variables_get" id="n,]vy;_^;o=mNc?_4jb}"><field name="VAR" id="@rv[Kukl,DzZJ;+xZsKK">stringIn</field></block></value><value name="start"><shadow type="math_number" id="ssJI3AF!nRp1W5wWXPn3"><field name="NUM">4</field></shadow></value><value name="length"><shadow type="math_number" id="+DtqM2[HnfFibQLPh][$"><field name="NUM">2</field></shadow></value></block></value><next><block type="variables_set" id="aK5:H%^Wp^)0[{2#5~%f"><field name="VAR" id="Zmb*1WwbtIa)cB,b]Cv$">year</field><comment pinned="false" h="80" w="160">the last 4 characters</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="string_substr" id="k3rEKWeQNPVvGx[$f-8g"><value name="this"><shadow type="text"><field name="TEXT"></field></shadow><block type="variables_get" id="qDJj5~HyK-hLyM/@v_PI"><field name="VAR" id="@rv[Kukl,DzZJ;+xZsKK">stringIn</field></block></value><value name="start"><shadow type="math_number" id="C0z|wcfMXA[;[YKgb.hu"><field name="NUM">6</field></shadow></value><value name="length"><shadow type="math_number" id="Nn$VXcn!c_#UKy~D#WX("><field name="NUM">4</field></shadow></value></block></value><next><block type="DS3231_SET_DATETIME" id="!Now)UDfb_pX!YXtyl6."><value name="year"><shadow type="math_number_minmax"><mutation min="2000" max="2099"></mutation><field name="SLIDER">0</field></shadow><block type="string_parsefloat" id=";)4_fso1`I4ni94,p7QN"><value name="text"><block type="variables_get" id="BE{SffcSKdF7IGhc$Z|3"><field name="VAR" id="Zmb*1WwbtIa)cB,b]Cv$">year</field></block></value></block></value><value name="month"><shadow type="math_number_minmax"><mutation min="1" max="12"></mutation><field name="SLIDER">0</field></shadow><block type="string_parsefloat" id=",0AYY}iQ|J1dH{XHj0Dd"><value name="text"><block type="variables_get" id="%YYJ$iOo(MllmAxO)Y!w"><field name="VAR" id="j+~B6Ge*AI$)GNP:||oP">month</field></block></value></block></value><value name="date"><shadow type="math_number_minmax"><mutation min="1" max="31"></mutation><field name="SLIDER">0</field></shadow><block type="string_parsefloat" id="y4dC[4gNiDIn3NA`:1.L"><value name="text"><block type="variables_get" id="q%Jm@r7m:+B]ZFf+dj8k"><field name="VAR" id="m!OUDdpy.;ef7aN9[B#w">date</field></block></value></block></value><value name="day"><shadow type="math_number_minmax"><mutation min="1" max="7"></mutation><field name="SLIDER">0</field></shadow><block type="DS3231_GET_DAY" id="f5tS[HeZ,hz9BHuJTDkj"></block></value><value name="hour"><shadow type="math_number_minmax"><mutation min="0" max="23"></mutation><field name="SLIDER">0</field></shadow><block type="DS3231_GET_HOUR" id=")^;AC6:;6sKhW2-eBgFd"></block></value><value name="minute"><shadow type="math_number_minmax"><mutation min="0" max="59"></mutation><field name="SLIDER">0</field></shadow><block type="DS3231_GET_MINUTE" id="%M;D1OU_z+zLH%nbY=?v"></block></value><value name="second"><shadow type="math_number_minmax" id=")B;z44dQwJ|;;V](i,|K"><mutation min="0" max="59" label="Number" precision="0"></mutation><field name="SLIDER">0</field></shadow></value></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="#Q!unzKdO!BA`:}-VI5}" x="3463" y="1165"><mutation name="setTime" functionid="_waVfNVtHXR{96-+wEfj"></mutation><field name="function_name">setTime</field><statement name="STACK"><block type="variables_set" id="Fb-EFkpe#4K:~ejm;+%x"><field name="VAR" id="Vc;s*JLs]j$|6gn^QA~-">hour</field><comment pinned="false" h="80" w="160">the first 2 characters after command</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="string_substr" id="`QDY+T6Gk7h2J|7~bQV="><value name="this"><shadow type="text"><field name="TEXT"></field></shadow><block type="variables_get" id="R9ji`TX+3`J7zgcEp+Cs"><field name="VAR" id="@rv[Kukl,DzZJ;+xZsKK">stringIn</field></block></value><value name="start"><shadow type="math_number" id="4WJ+scj/n`9rDk{5Q5}M"><field name="NUM">2</field></shadow></value><value name="length"><shadow type="math_number" id="mDdH44mLTS28ypiK{O5Y"><field name="NUM">2</field></shadow></value></block></value><next><block type="variables_set" id="z5pVLd@vYkYMz@r?fx:T"><field name="VAR" id="iX,^Tm)w#%9aXU?JEWM=">minute</field><comment pinned="false" h="80" w="160">the next 2 characters command</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="string_substr" id="AnP)ReWJtC;*ddYsCH3M"><value name="this"><shadow type="text"><field name="TEXT"></field></shadow><block type="variables_get" id="RjQW,/-nq7S3WHq=i*8A"><field name="VAR" id="@rv[Kukl,DzZJ;+xZsKK">stringIn</field></block></value><value name="start"><shadow type="math_number" id="Yh*W#|jWpr[H-NbrAY}:"><field name="NUM">4</field></shadow></value><value name="length"><shadow type="math_number" id="x0j*}#Rky/kgsEC3!M]o"><field name="NUM">2</field></shadow></value></block></value><next><block type="DS3231_SET_DATETIME" id="fUTN1Jq[;zKM3m:Kj/ML"><value name="year"><shadow type="math_number_minmax"><mutation min="2000" max="2099"></mutation><field name="SLIDER">0</field></shadow><block type="DS3231_GET_YEAR" id="5THrKR.%u==Zgz:k!l}V"></block></value><value name="month"><shadow type="math_number_minmax"><mutation min="1" max="12"></mutation><field name="SLIDER">0</field></shadow><block type="DS3231_GET_MONTH" id="Ed3?U-;|{b$9nOp;.kQ9"></block></value><value name="date"><shadow type="math_number_minmax"><mutation min="1" max="31"></mutation><field name="SLIDER">0</field></shadow><block type="DS3231_GET_DATE" id="Blx,Lt91eZ,HokF-CgT-"></block></value><value name="day"><shadow type="math_number_minmax"><mutation min="1" max="7"></mutation><field name="SLIDER">0</field></shadow><block type="DS3231_GET_DAY" id="@wucq7cokQ:m/[zR1[IB"></block></value><value name="hour"><shadow type="math_number_minmax"><mutation min="0" max="23"></mutation><field name="SLIDER">0</field></shadow><block type="string_parsefloat" id="^J.J1gm72cc}g}G1.5j~"><value name="text"><block type="variables_get" id="j~(43{-O}:A?|.YF(7?B"><field name="VAR" id="Vc;s*JLs]j$|6gn^QA~-">hour</field></block></value></block></value><value name="minute"><shadow type="math_number_minmax"><mutation min="0" max="59"></mutation><field name="SLIDER">0</field></shadow><block type="string_parsefloat" id="Xtd_g@Dbw)12~ZrkhKVQ"><value name="text"><block type="variables_get" id="v)j%UK*SA#A23uV~i(]%"><field name="VAR" id="iX,^Tm)w#%9aXU?JEWM=">minute</field></block></value></block></value><value name="second"><shadow type="math_number_minmax" id=";S($.g.ST7qz@O32i83_"><mutation min="0" max="59" label="Number" precision="0"></mutation><field name="SLIDER">0</field></shadow></value></block></next></block></next></block></statement></block></xml>